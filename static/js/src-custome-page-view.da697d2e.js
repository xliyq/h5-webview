(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"./src/CustomePageView.mdx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var a=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),s=n("react"),r=n.n(s),i=n("./node_modules/@mdx-js/react/dist/esm.js"),o=n("./src/PageManager.ts"),c=n("./src/PageItem.tsx"),l=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),u=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js"),d=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js"),p=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js"),m=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"renderChildren",value:function(){var e=this.props.index;return r.a.createElement("div",null,"\u7a97\u53e3\u5e8f\u53f7\uff1a",e,r.a.createElement("br",null),r.a.createElement("a",{onClick:function(){o.a.openPage(new c.a(n,{index:e+1}))}},"\u6253\u5f00\u4e0b\u4e00\u4e2a\u7a97\u53e3"),r.a.createElement("p",null," ",this.showHeader?"\u70b9\u51fb\u8fd4\u56de\u6309\u94ae\u53ef\u8fd4\u56de":"\u5411\u53f3\u62d6\u52a8\u53ef\u8fd4\u56de"))}},{key:"disabledBack",get:function(){return this.props.index%6===0}},{key:"disableTouchBack",get:function(){var e=this.props.index;return e%3===0&&e%6!==0}},{key:"showHeader",get:function(){return this.props.index%3===0}},{key:"extra",get:function(){return this.props.index%3===0?r.a.createElement("div",null,"+"):null}},{key:"title",get:function(){return"\u8fd9\u91cc\u9876\u680f".concat(this.props.index)}}]),n}(n("./src/PageView.tsx").a);m.defaultProps={title:"CustomePageViewTitle"};var b=m;"undefined"!==typeof m&&m&&m===Object(m)&&Object.isExtensible(m)&&Object.defineProperty(m,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"CustomePageView",filename:"src\\CustomePageView.tsx"}});var h=n("./node_modules/father/node_modules/docz/dist/index.esm.js"),g={};function f(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(i.b)("wrapper",Object.assign({},g,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h2",{id:"\u81ea\u5b9a\u4e49\u5f39\u7a97\u7ec4\u4ef6\uff0c\u5404\u5c5e\u6027\u5728\u7ec4\u4ef6\u5185\u90e8\u8bbe\u7f6e\u597d"},"\u81ea\u5b9a\u4e49\u5f39\u7a97\u7ec4\u4ef6\uff0c\u5404\u5c5e\u6027\u5728\u7ec4\u4ef6\u5185\u90e8\u8bbe\u7f6e\u597d"),Object(i.b)("p",null,"\u901a\u5e38\uff0c\u4e00\u4e2a\u7a97\u53e3\u7684\u5c5e\u6027\uff0c\u4f8b\u5982\u662f\u5426\u663e\u793a\u9875\u5934\u3001\u9875\u9762\u5185\u5bb9\u662f\u4ec0\u4e48\uff0c\u662f\u5728\u7a97\u53e3\u5185\u90e8\u56fa\u5b9a\u7684\u3002"),Object(i.b)("p",null,"\u6b64\u65f6\uff0c\u5e94\u5f53\u8ba9\u7a97\u53e3\u7ee7\u627f\u81eaPageView\uff0c\u5e76\u5728\u7ec4\u4ef6\u5185\u90e8\u91cd\u5199\u5404\u9879\u5c5e\u6027\uff0c\u800c\u975e\u4eceprops\u4f20\u5165"),Object(i.b)("hr",null),Object(i.b)("p",null,"\u672c\u793a\u4f8b\u5c55\u793a\u4e86\u4e00\u4e2a\u201c\u81ea\u5b9a\u4e49\u7684\u7a97\u53e3\u201d\uff0c\u6b64\u7a97\u53e3\u5177\u6709\u4ee5\u4e0b\u7279\u5f81"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"\u7a97\u53e3\u7684props\u6709\u4e00\u4e2a\u5c5e\u6027index\uff0c\u8868\u793a\u6b64\u7a97\u53e3\u662f\u7b2c\u51e0\u4e2a\u88ab\u6253\u5f00\u7684\u7a97\u53e3"),Object(i.b)("li",{parentName:"ul"},"\u5f53index\u662f3\u7684\u500d\u6570\u65f6\uff0c\u8868\u73b0\u51fa\u4e0d\u4e00\u6837\u7684\u7279\u5f81\u3002",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"\u663e\u793a\u6807\u9898\u680f"),Object(i.b)("li",{parentName:"ul"},"\u7981\u7528\u89e6\u6478\u8fd4\u56de\uff0c\u53ea\u80fd\u70b9\u6807\u9898\u680f\u7684\u8fd4\u56de\u6309\u94ae"))),Object(i.b)("li",{parentName:"ul"},"\u5f53index \u662f6\u7684\u500d\u6570\u65f6",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"\u9690\u85cf\u8fd4\u56de\u6309\u94ae"),Object(i.b)("li",{parentName:"ul"},"\u542f\u7528\u89e6\u6478\u8fd4\u56de")))),Object(i.b)(h.c,{__position:0,__code:"<button\n    onClick={() => {\n      PageManager.openPage(new PageItem(CustomePageView, { index: 1 }))\n    }}\n  >\n    \u6253\u5f00\u81ea\u5b9a\u4e49\u9875\u9762-CustomePageView\n  </button>",__scope:{props:this?this.props:n,PageManager:o.a,PageItem:c.a,CustomePageView:b,Playground:h.c,Props:h.d},__codesandbox:"undefined",mdxType:"Playground"},Object(i.b)("button",{onClick:function(){o.a.openPage(new c.a(b,{index:1}))}},"\u6253\u5f00\u81ea\u5b9a\u4e49\u9875\u9762-CustomePageView")),Object(i.b)("p",null,"CustomePageView\u6e90\u7801"),Object(i.b)("pre",null,Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-javascript"}),"import React from 'react';\nimport PageItem from './PageItem';\nimport PageManager from './PageManager';\nimport PageView, { IPageViewProps } from './PageView';\n\ninterface ICustomePageViewState {}\ninterface ICustomePageViewProps extends IPageViewProps {\n  index: any;\n}\n\n/**\n * CustomePageView\n */\nclass CustomePageView extends PageView<ICustomePageViewProps, ICustomePageViewState> {\n  static defaultProps = {\n    title: 'CustomePageViewTitle',\n  };\n\n  get disabledBack() {\n    const index = this.props.index;\n    return index % 3 !== 0;\n  }\n\n  get disableTouchBack() {\n    const index = this.props.index;\n    return index % 3 === 0;\n  }\n\n  get showHeader() {\n    const index = this.props.index;\n    return index % 3 === 0;\n  }\n\n  get extra() {\n    const index = this.props.index;\n    if (index % 3 === 0) {\n      return <div>+</div>;\n    }\n    return null;\n  }\n\n  get title() {\n    return `\u8fd9\u91cc\u9876\u680f${this.props.index}`;\n  }\n\n  renderChildren() {\n    const index = this.props.index;\n    return (\n      <div>\n        \u7a97\u53e3\u5e8f\u53f7\uff1a{index}\n        <br />\n        <a\n          onClick={() => {\n            PageManager.openPage(\n              new PageItem(CustomePageView, {\n                index: index + 1,\n              }),\n            );\n          }}\n        >\n          \u6253\u5f00\u4e0b\u4e00\u4e2a\u7a97\u53e3\n        </a>\n        <p> {this.showHeader ? '\u70b9\u51fb\u8fd4\u56de\u6309\u94ae\u53ef\u8fd4\u56de' : '\u5411\u53f3\u62d6\u52a8\u53ef\u8fd4\u56de'}</p>\n      </div>\n    );\n  }\n}\n\nexport default CustomePageView;\n\n")))}f&&f===Object(f)&&Object.isExtensible(f)&&Object.defineProperty(f,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"src\\CustomePageView.mdx"}}),f.isMDXComponent=!0},"./src/PageItem.tsx":function(e,t,n){"use strict";var a=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=function e(t,n){Object(a.a)(this,e),this.classType=void 0,this.props=void 0,this.classType=t,this.props=n};t.a=s,s&&s===Object(s)&&Object.isExtensible(s)&&Object.defineProperty(s,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"PageItem",filename:"src\\PageItem.tsx"}})},"./src/PageManager.ts":function(e,t,n){"use strict";var a=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js"),r=n("react"),i=n.n(r),o=n("react-dom"),c=n.n(o),l=function(){function e(){Object(a.a)(this,e)}return Object(s.a)(e,null,[{key:"openPage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?this._getItemByClassType(e.classType):null;n&&this.removePage(n);var a=document.createElement("div");a.className="PageContainer",this._pageList.push(e),this._linkItemAndContainer(e,a),this._updateRender()}},{key:"closePage",value:function(e){this.removePage(e),this._updateRender()}},{key:"removePage",value:function(e){this._removeItem(e);var t=this._getContainerByData(e);t&&(this._containerDic.delete(e),c.a.unmountComponentAtNode(t),this.root.contains(t)&&this.root.removeChild(t))}},{key:"_updateRender",value:function(){for(var e=this,t=this._pageList.length,n=function(n){var a=e._pageList[n],s=e._getContainerByData(a);s&&(e.root.contains(s)&&e.root.removeChild(s),s.removeAttribute("isNew"),n>=t-2&&(0===s.childElementCount&&(s.setAttribute("isNew","true"),c.a.render(i.a.createElement(a.classType,Object.assign({},a.props,{close:function(){e.closePage(a)}})),s)),e.root.appendChild(s)))},a=0;a<t;a++)n(a)}},{key:"_getContainerByData",value:function(e){return this._containerDic.get(e)}},{key:"_getItemByClassType",value:function(e){for(var t=0;t<this._pageList.length;t++){var n=this._pageList[t];if(n.classType===e)return n}return null}},{key:"_removeItem",value:function(e){var t=this._pageList.indexOf(e);t>=0&&this._pageList.splice(t,1)}},{key:"_linkItemAndContainer",value:function(e,t){this._containerDic.set(e,t)}},{key:"root",get:function(){return document.body}}]),e}();l._pageList=[],l._containerDic=new Map,t.a=l,"undefined"!==typeof l&&l&&l===Object(l)&&Object.isExtensible(l)&&Object.defineProperty(l,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"PageManager",filename:"src\\PageManager.ts"}})},"./src/PageView.less":function(e,t,n){},"./src/PageView.tsx":function(e,t,n){"use strict";var a,s=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),r=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js"),o=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js"),c=n("react"),l=n.n(c);n("./src/PageView.less");!function(e){e[e.NONE=0]="NONE",e[e.TO_TOP=1]="TO_TOP",e[e.TO_BOTTOM=2]="TO_BOTTOM",e[e.TO_LEFT=3]="TO_LEFT",e[e.TO_RIGHT=4]="TO_RIGHT"}(a||(a={})),"undefined"!==typeof a&&a&&a===Object(a)&&Object.isExtensible(a)&&Object.defineProperty(a,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"IDirection",filename:"src\\Toucher.tsx"}});var u=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r)))._startX=0,e._startY=0,e._touching=!1,e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,s=t.effectDistance,r=t.onTouch,i=t.className,o=t.style,c=t.onTouching,u=t.validateStartTouch,d=Object.assign({},this.props);return delete d.onTouch,delete d.onTouching,delete d.validateStartTouch,l.a.createElement("div",Object.assign({className:i,style:o,onTouchStart:function(t){var n=t.touches[0].pageX,a=t.touches[0].pageY;(!u||u(n,a))&&(t.stopPropagation(),e._touching=!0,e._startX=t.touches[0].pageX,e._startY=t.touches[0].pageY)},onTouchMove:function(t){if(e._touching&&(t.stopPropagation(),c)){var n=t.changedTouches[0],a=n.pageX,s=n.pageY,r=a-e._startX,i=s-e._startY;c(r,i)}},onTouchEnd:function(t){if(e._touching){t.stopPropagation(),e._touching=!1;var n=t.changedTouches[0],i=n.pageX,o=n.pageY,c=s||50,l=a.NONE,u=i-e._startX;u>c?l=a.TO_RIGHT:u<-c&&(l=a.TO_LEFT);var d=a.NONE,p=o-e._startY;p>c?d=a.TO_BOTTOM:p<-c&&(d=a.TO_TOP);var m=i-e._startX,b=o-e._startY;r&&r(l,d,m,b)}}},d),n)}}]),n}(c.Component),d=u;"undefined"!==typeof u&&u&&u===Object(u)&&Object.isExtensible(u)&&Object.defineProperty(u,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"Toucher",filename:"src\\Toucher.tsx"}});var p=n("./node_modules/classnames/index.js");"undefined"!==typeof IPageViewProps&&IPageViewProps&&IPageViewProps===Object(IPageViewProps)&&Object.isExtensible(IPageViewProps)&&Object.defineProperty(IPageViewProps,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"IPageViewProps",filename:"src\\PageView.tsx"}});var m=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r)))._show=!0,e._touchX=0,e._closeTouchX=80,e._touching=!1,e}return Object(r.a)(n,[{key:"renderHeader",value:function(){var e=this,t=this.extra;return this.showHeader?l.a.createElement("header",{className:this.headerClassName},!this.disabledBack&&l.a.createElement("i",{onClick:function(){e.close()}}),l.a.createElement("h1",null,this.title),l.a.createElement("div",{className:"PageViewExtra"},t)):null}},{key:"renderChildren",value:function(){return l.a.createElement("div",null,"pageView")}},{key:"close",value:function(){this._show&&(this._show=!1,this.forceUpdate())}},{key:"render",value:function(){var e=this,t=this._closeTouchX,n=this.disableTouchBack,a=this.props,s=a.close,r=a.className,i={transform:"translate(".concat(this._touchX,"px)")},o={opacity:Math.min(1,.2+Math.max(0,(t-this._touchX)/t))};return this._touching&&(i.transition="none",o.transition="none"),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:p("PageViewBg",this._show?"":"PageViewBgClose",r),style:o}),l.a.createElement(d,{onTouching:function(t){n||(e._touching=!0,e._touchX=Math.max(0,t),e.forceUpdate())},validateStartTouch:function(e){return e<50},onTouch:function(a,s,r,i){n||(e._touching=!1,r>t?e.close():e._touchX=0,e.forceUpdate())},className:p("PageView",this.className,this._show?"":"PageViewClose"),onAnimationEnd:function(){!e._show&&s&&s()},style:i},this.renderHeader(),l.a.createElement("main",null,this.renderChildren())))}},{key:"headerClassName",get:function(){return""}},{key:"className",get:function(){return""}},{key:"title",get:function(){return""}},{key:"showHeader",get:function(){return!0}},{key:"disabledBack",get:function(){return!1}},{key:"disableTouchBack",get:function(){return!1}},{key:"extra",get:function(){return null}}]),n}(c.Component);t.a=m;"undefined"!==typeof m&&m&&m===Object(m)&&Object.isExtensible(m)&&Object.defineProperty(m,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"PageView",filename:"src\\PageView.tsx"}})}}]);